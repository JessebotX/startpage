!function(e,t,r,n,a){"use strict";const s={map:new Map,set(e,t){return this.map.set(u(e),t)},get(e){const t=this.map.get(u(e));return t&&(t.validLeft=(new Date(t.validUntil)-new Date)/1e3),t}},o=function(e){return{cachedResponseWillBeUsed({cacheName:e,request:t,matchOptions:r,cachedResponse:n,event:a}){if(!0!==c(t).writeHeaders)return n;const o=new Headers(n.headers),i=s.get(t)||{};for(const[e,t]of Object.entries(i))o.set("x-routify-"+e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),t);return o.set("x-routify-use-cache","true"),n.arrayBuffer().then(e=>new Response(e,{...n,headers:o}))},cacheDidUpdate:async({cacheName:t,request:r,oldResponse:n,newResponse:a,event:o})=>{const i=function({referrer:e}){e=e.replace(/\w+:\/\/[^/]+/,"");const[t,r]=e.split("__[[routify_url_options]]__");return JSON.parse(decodeURIComponent(r||"")||"{}")}(o.request),u=c(o.request),l={...e,...i,...u},h=Date.now();s.set(o.request,{...l,validUntil:new Date(h+1e3*l.validFor).toISOString(),cachedAt:new Date(h).toISOString()})}}};function i(e){return s.map.forEach((e,t)=>{new Date(e.validUntil)<new Date&&s.map.delete(t)}),s.get(e.request)}function c({headers:e}){const t=[...e.entries()].filter(([e])=>e.startsWith("x-routify-")),r={};for(const[e,n]of t){r[e.replace("x-routify-","").replace(/-./g,e=>e.toUpperCase()[1])]=l(n)}return r}function u({url:e,headers:t,method:r}){return JSON.stringify({url:e,method:r,headers:[...t.entries()]})}function l(e){try{return JSON.parse(e)}catch(e){}}const h=()=>({cacheName:"external",plugins:[o({validFor:60}),new a.ExpirationPlugin({maxEntries:50,purgeOnQuotaError:!0})]});n.precacheAndRoute([{revision:"0201b9b9b18ce90fabc5a04e8999e6c3",url:"404.svg"},{revision:"82d56974c59701e27a84db96372d9e84",url:"global.css"},{revision:"c39771d75b8a768406e8655fc75cea48",url:"main.css"},{revision:"cee4e5ba544324b4a4228112071585ee",url:"__app.html"}]),r.skipWaiting(),r.clientsClaim(),e.registerRoute((function({url:e,request:t}){return e.host===self.location.host&&"document"===t.destination}),n.matchPrecache("__app.html")),e.registerRoute((function({url:e,request:t}){return e.host===self.location.host&&"document"!=t.destination}),new t.CacheFirst),e.registerRoute((function(e){return!!i(e)}),new t.CacheFirst(h())),e.setDefaultHandler(new t.NetworkFirst(h())),e.setCatchHandler(async({event:e})=>{switch(e.request.destination){case"document":return await n.matchPrecache("__app.html");case"image":return await n.matchPrecache("404.svg");default:return Response.error()}})}(workboxRouting,workboxStrategies,workboxCore,workboxPrecaching,workboxExpiration);
